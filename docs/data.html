---

title: data


keywords: fastai
sidebar: home_sidebar

summary: "Provides dataset for icevision records and classmaps"
description: "Provides dataset for icevision records and classmaps"
nb_path: "nbs/data.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/data.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Test-data-setup">Test data setup<a class="anchor-link" href="#Test-data-setup"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">icedata</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_data_dir</span> <span class="o">=</span> <span class="n">icedata</span><span class="o">.</span><span class="n">fridge</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
<span class="n">test_class_map</span> <span class="o">=</span> <span class="n">icedata</span><span class="o">.</span><span class="n">fridge</span><span class="o">.</span><span class="n">class_map</span><span class="p">()</span>
<span class="n">test_parser</span> <span class="o">=</span> <span class="n">icedata</span><span class="o">.</span><span class="n">fridge</span><span class="o">.</span><span class="n">parser</span><span class="p">(</span><span class="n">test_data_dir</span><span class="p">,</span> <span class="n">test_class_map</span><span class="p">)</span>
<span class="n">test_train_records</span><span class="p">,</span> <span class="n">test_valid_records</span> <span class="o">=</span> <span class="n">test_parser</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre><span class="ansi-bold">INFO    </span> - <span class="ansi-blue-intense-fg ansi-bold">Autofixing records</span> | <span class="ansi-cyan-fg">icevision.parsers.parser</span>:<span class="ansi-cyan-fg">parse</span>:<span class="ansi-cyan-fg">126</span>
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="RecordDataframeParser" class="doc_header"><code>class</code> <code>RecordDataframeParser</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/data.py#L29" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>RecordDataframeParser</code>(<strong><code>record_dataframe</code></strong>) :: <code>Parser</code></p>
</blockquote>
<p>Base class for all parsers, implements the main parsing logic.</p>
<p>The actual fields to be parsed are defined by the mixins used when
defining a custom parser. The only required fields for all parsers
are <code>image_id</code> and <code>image_width_height</code>.</p>
<h1 id="Examples">Examples<a class="anchor-link" href="#Examples"> </a></h1><p>Create a parser for image filepaths.</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">FilepathParser</span><span class="p">(</span><span class="n">Parser</span><span class="p">,</span> <span class="n">FilepathParserMixin</span><span class="p">):</span>
    <span class="c1"># implement required abstract methods</span>
</pre></div>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="BboxRecordDataframeParser" class="doc_header"><code>class</code> <code>BboxRecordDataframeParser</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/data.py#L51" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>BboxRecordDataframeParser</code>(<strong><code>record_dataframe</code></strong>) :: <a href="/icevision_dashboards/data.html#RecordDataframeParser"><code>RecordDataframeParser</code></a></p>
</blockquote>
<p>Base class for all parsers, implements the main parsing logic.</p>
<p>The actual fields to be parsed are defined by the mixins used when
defining a custom parser. The only required fields for all parsers
are <code>image_id</code> and <code>image_width_height</code>.</p>
<h1 id="Examples">Examples<a class="anchor-link" href="#Examples"> </a></h1><p>Create a parser for image filepaths.</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">FilepathParser</span><span class="p">(</span><span class="n">Parser</span><span class="p">,</span> <span class="n">FilepathParserMixin</span><span class="p">):</span>
    <span class="c1"># implement required abstract methods</span>
</pre></div>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="MaskRecordDataframeParser" class="doc_header"><code>class</code> <code>MaskRecordDataframeParser</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/data.py#L56" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>MaskRecordDataframeParser</code>(<strong><code>record_dataframe</code></strong>) :: <a href="/icevision_dashboards/data.html#BboxRecordDataframeParser"><code>BboxRecordDataframeParser</code></a></p>
</blockquote>
<p>Parser with required mixins for Mask RCNN.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="RecordDataset" class="doc_header"><code>class</code> <code>RecordDataset</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/data.py#L63" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>RecordDataset</code>(<strong><code>records</code></strong>:<code>Union</code>[<code>List</code>[<code>BaseRecord</code>], <a href="/icevision_dashboards/core.data.html#ObservableList"><code>ObservableList</code></a>, <code>str</code>], <strong><code>class_map</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>, <strong><code>description</code></strong>=<em><code>None</code></em>) :: <a href="/icevision_dashboards/core.data.html#GenericDataset"><code>GenericDataset</code></a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="DataDescriptorBbox" class="doc_header"><code>class</code> <code>DataDescriptorBbox</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/data.py#L145" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>DataDescriptorBbox</code>() :: <a href="/icevision_dashboards/core.data.html#DatasetDescriptor"><code>DatasetDescriptor</code></a></p>
</blockquote>
<p>Helper class that provides a standard way to create an ABC using
inheritance.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="StatsDesscriptorBbox" class="doc_header"><code>class</code> <code>StatsDesscriptorBbox</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/data.py#L174" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>StatsDesscriptorBbox</code>() :: <a href="/icevision_dashboards/core.data.html#DatasetDescriptor"><code>DatasetDescriptor</code></a></p>
</blockquote>
<p>Helper class that provides a standard way to create an ABC using
inheritance.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ImageStatsDesscriptorBbox" class="doc_header"><code>class</code> <code>ImageStatsDesscriptorBbox</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/data.py#L189" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ImageStatsDesscriptorBbox</code>() :: <a href="/icevision_dashboards/core.data.html#DatasetDescriptor"><code>DatasetDescriptor</code></a></p>
</blockquote>
<p>Helper class that provides a standard way to create an ABC using
inheritance.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ClassStatsDesscriptorBbox" class="doc_header"><code>class</code> <code>ClassStatsDesscriptorBbox</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/data.py#L201" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ClassStatsDesscriptorBbox</code>() :: <a href="/icevision_dashboards/core.data.html#DatasetDescriptor"><code>DatasetDescriptor</code></a></p>
</blockquote>
<p>Helper class that provides a standard way to create an ABC using
inheritance.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="BboxRecordDataset" class="doc_header"><code>class</code> <code>BboxRecordDataset</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/data.py#L218" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>BboxRecordDataset</code>(<strong><code>records</code></strong>:<code>Union</code>[<code>List</code>[<code>BaseRecord</code>], <a href="/icevision_dashboards/core.data.html#ObservableList"><code>ObservableList</code></a>, <code>str</code>], <strong><code>class_map</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>, <strong><code>description</code></strong>=<em><code>None</code></em>) :: <a href="/icevision_dashboards/data.html#RecordDataset"><code>RecordDataset</code></a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_record_dataset</span> <span class="o">=</span> <span class="n">BboxRecordDataset</span><span class="p">(</span><span class="n">test_valid_records</span><span class="p">,</span> <span class="n">test_class_map</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">test_record_dataset</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">test_record_dataset</span><span class="o">.</span><span class="n">stats_dataset</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">test_record_dataset</span><span class="o">.</span><span class="n">stats_class</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">test_record_dataset</span><span class="o">.</span><span class="n">stats_image</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="kc">False</span><span class="p">]</span><span class="o">*</span><span class="n">test_record_dataset</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">mask</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">masked_test_record</span> <span class="o">=</span> <span class="n">test_record_dataset</span><span class="o">.</span><span class="n">create_new_from_mask</span><span class="p">(</span><span class="n">test_record_dataset</span><span class="p">,</span> <span class="n">mask</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">masked_test_record</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># filepaths = np.unique(selection[&quot;filepath&quot;])</span>
<span class="c1"># new_records = [record for record in cls_instance.records if record[&quot;filepath&quot;] in filepaths]</span>
<span class="c1"># return cls(new_records)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_old_record_dataset_stats</span> <span class="o">=</span> <span class="n">test_record_dataset</span><span class="o">.</span><span class="n">stats_dataset</span>
<span class="n">test_record_dataset</span><span class="o">.</span><span class="n">records</span><span class="o">.</span><span class="n">list</span> <span class="o">=</span> <span class="n">test_train_records</span>
<span class="n">test_new_record_dataset_stats</span> <span class="o">=</span> <span class="n">test_record_dataset</span><span class="o">.</span><span class="n">stats_dataset</span>
<span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">test_old_record_dataset_stats</span> <span class="o">!=</span> <span class="n">test_new_record_dataset_stats</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_record_dataset</span><span class="o">.</span><span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>width</th>
      <th>height</th>
      <th>label</th>
      <th>bbox_xmin</th>
      <th>bbox_xmax</th>
      <th>bbox_ymin</th>
      <th>bbox_ymax</th>
      <th>area</th>
      <th>area_normalized</th>
      <th>bbox_ratio</th>
      <th>record_index</th>
      <th>bbox_width</th>
      <th>bbox_height</th>
      <th>filepath</th>
      <th>creation_date</th>
      <th>modification_date</th>
      <th>num_annotations</th>
      <th>label_num</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>97</td>
      <td>499</td>
      <td>666</td>
      <td>carton</td>
      <td>68</td>
      <td>376</td>
      <td>340</td>
      <td>574</td>
      <td>72072</td>
      <td>0.216866</td>
      <td>1.316239</td>
      <td>0</td>
      <td>308</td>
      <td>234</td>
      <td>/home/frederik/.icevision/data/fridge/odFridgeObjects/images/71.jpg</td>
      <td>2021-01-13 11:38:01.343184</td>
      <td>2020-12-14 21:50:19.136311</td>
      <td>4</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>97</td>
      <td>499</td>
      <td>666</td>
      <td>can</td>
      <td>9</td>
      <td>111</td>
      <td>273</td>
      <td>439</td>
      <td>16932</td>
      <td>0.050949</td>
      <td>0.614458</td>
      <td>0</td>
      <td>102</td>
      <td>166</td>
      <td>/home/frederik/.icevision/data/fridge/odFridgeObjects/images/71.jpg</td>
      <td>2021-01-13 11:38:01.343184</td>
      <td>2020-12-14 21:50:19.136311</td>
      <td>4</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>97</td>
      <td>499</td>
      <td>666</td>
      <td>water_bottle</td>
      <td>236</td>
      <td>321</td>
      <td>171</td>
      <td>366</td>
      <td>16575</td>
      <td>0.049875</td>
      <td>0.435897</td>
      <td>0</td>
      <td>85</td>
      <td>195</td>
      <td>/home/frederik/.icevision/data/fridge/odFridgeObjects/images/71.jpg</td>
      <td>2021-01-13 11:38:01.343184</td>
      <td>2020-12-14 21:50:19.136311</td>
      <td>4</td>
      <td>4</td>
    </tr>
    <tr>
      <th>3</th>
      <td>97</td>
      <td>499</td>
      <td>666</td>
      <td>milk_bottle</td>
      <td>365</td>
      <td>461</td>
      <td>210</td>
      <td>435</td>
      <td>21600</td>
      <td>0.064995</td>
      <td>0.426667</td>
      <td>0</td>
      <td>96</td>
      <td>225</td>
      <td>/home/frederik/.icevision/data/fridge/odFridgeObjects/images/71.jpg</td>
      <td>2021-01-13 11:38:01.343184</td>
      <td>2020-12-14 21:50:19.136311</td>
      <td>4</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>99</td>
      <td>499</td>
      <td>666</td>
      <td>can</td>
      <td>50</td>
      <td>149</td>
      <td>312</td>
      <td>483</td>
      <td>16929</td>
      <td>0.050940</td>
      <td>0.578947</td>
      <td>1</td>
      <td>99</td>
      <td>171</td>
      <td>/home/frederik/.icevision/data/fridge/odFridgeObjects/images/73.jpg</td>
      <td>2021-01-13 11:38:01.399184</td>
      <td>2020-12-14 21:50:19.160311</td>
      <td>4</td>
      <td>1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>261</th>
      <td>29</td>
      <td>499</td>
      <td>666</td>
      <td>carton</td>
      <td>279</td>
      <td>462</td>
      <td>111</td>
      <td>484</td>
      <td>68259</td>
      <td>0.205393</td>
      <td>0.490617</td>
      <td>99</td>
      <td>183</td>
      <td>373</td>
      <td>/home/frederik/.icevision/data/fridge/odFridgeObjects/images/125.jpg</td>
      <td>2021-01-13 11:38:01.351184</td>
      <td>2020-12-14 21:50:19.140311</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>262</th>
      <td>5</td>
      <td>499</td>
      <td>666</td>
      <td>can</td>
      <td>144</td>
      <td>318</td>
      <td>260</td>
      <td>429</td>
      <td>29406</td>
      <td>0.088483</td>
      <td>1.029586</td>
      <td>100</td>
      <td>174</td>
      <td>169</td>
      <td>/home/frederik/.icevision/data/fridge/odFridgeObjects/images/103.jpg</td>
      <td>2021-01-13 11:38:01.439184</td>
      <td>2020-12-14 21:50:19.176311</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>263</th>
      <td>55</td>
      <td>499</td>
      <td>666</td>
      <td>water_bottle</td>
      <td>72</td>
      <td>172</td>
      <td>150</td>
      <td>399</td>
      <td>24900</td>
      <td>0.074925</td>
      <td>0.401606</td>
      <td>101</td>
      <td>100</td>
      <td>249</td>
      <td>/home/frederik/.icevision/data/fridge/odFridgeObjects/images/33.jpg</td>
      <td>2021-01-13 11:38:01.335184</td>
      <td>2020-12-14 21:50:19.136311</td>
      <td>3</td>
      <td>4</td>
    </tr>
    <tr>
      <th>264</th>
      <td>55</td>
      <td>499</td>
      <td>666</td>
      <td>milk_bottle</td>
      <td>192</td>
      <td>308</td>
      <td>229</td>
      <td>534</td>
      <td>35380</td>
      <td>0.106459</td>
      <td>0.380328</td>
      <td>101</td>
      <td>116</td>
      <td>305</td>
      <td>/home/frederik/.icevision/data/fridge/odFridgeObjects/images/33.jpg</td>
      <td>2021-01-13 11:38:01.335184</td>
      <td>2020-12-14 21:50:19.136311</td>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <th>265</th>
      <td>55</td>
      <td>499</td>
      <td>666</td>
      <td>can</td>
      <td>324</td>
      <td>415</td>
      <td>246</td>
      <td>410</td>
      <td>14924</td>
      <td>0.044907</td>
      <td>0.554878</td>
      <td>101</td>
      <td>91</td>
      <td>164</td>
      <td>/home/frederik/.icevision/data/fridge/odFridgeObjects/images/33.jpg</td>
      <td>2021-01-13 11:38:01.335184</td>
      <td>2020-12-14 21:50:19.136311</td>
      <td>3</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>266 rows × 19 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_regenerated_record_dataset</span> <span class="o">=</span> <span class="n">BboxRecordDataset</span><span class="o">.</span><span class="n">load_from_record_dataframe</span><span class="p">(</span><span class="n">test_record_dataset</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">test_regenerated_record_dataset</span><span class="o">.</span><span class="n">records</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">test_record_dataset</span><span class="o">.</span><span class="n">records</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre><span class="ansi-bold">INFO    </span> - <span class="ansi-blue-intense-fg ansi-bold">Autofixing records</span> | <span class="ansi-cyan-fg">icevision.parsers.parser</span>:<span class="ansi-cyan-fg">parse</span>:<span class="ansi-cyan-fg">126</span>
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="s2">&quot;dump_dir&quot;</span><span class="p">,</span> <span class="n">ignore_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="s2">&quot;dump_dir&quot;</span><span class="p">)</span>
<span class="n">test_record_dataset</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="n">test_record_dataset</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;dump_dir&quot;</span><span class="p">)</span>
<span class="n">test_record_dataset</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;dump_dir&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s2">&quot;dump_dir&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">2</span>
<span class="k">assert</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="s2">&quot;dump_dir/dataset.json&quot;</span><span class="p">)</span>
<span class="n">test_loaded_record_dataset</span> <span class="o">=</span> <span class="n">BboxRecordDataset</span><span class="p">(</span><span class="s2">&quot;dump_dir/dataset.json&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">test_record_dataset</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;area&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="n">test_loaded_record_dataset</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span>
<span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="s2">&quot;dump_dir&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre><span class="ansi-bold">INFO    </span> - <span class="ansi-blue-intense-fg ansi-bold">Autofixing records</span> | <span class="ansi-cyan-fg">icevision.parsers.parser</span>:<span class="ansi-cyan-fg">parse</span>:<span class="ansi-cyan-fg">126</span>
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

