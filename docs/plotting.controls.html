---

title: plotting.controls


keywords: fastai
sidebar: home_sidebar

summary: "Supplies control elements for dashboards"
description: "Supplies control elements for dashboards"
nb_path: "nbs/plotting.controls.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/plotting.controls.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Filter" class="doc_header"><code>class</code> <code>Filter</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/plotting/controls.py#L24" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Filter</code>(<strong><code>data</code></strong>, <strong><code>width</code></strong>=<em><code>500</code></em>, <strong><code>height</code></strong>=<em><code>500</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Abstract baseclass for a filter. A filter requires three methods to be implemented</p>
<ol>
<li><code>build_gui</code>: Defines the gui elements of the filter (slider, checkboxes etc.)</li>
<li><code>get_selection</code>: Returns a binary mask indicating which elements of the data are selected and which not</li>
<li><code>show</code>: Returns the gui of the filter</li>
<li><code>register_callback</code>: Handels the registration of callbacks. This function should contain the following line <code>callback = self.maks_callback(callback)</code> to ensure that the callback receives the current selection of the filter instead of an <code>event</code> or <code>attr</code>, <code>old</code> and <code>new</code></li>
</ol>
<p>All callbacks registered to a filter will receive the current selection of the fitler as argument. To ensure this behaviour inside the <code>register_callback</code> function the callback needs to be masked with the <code>mask_callback</code> method. If a different behaviour is need it should be sufficient to change the <code>mask_callback</code> method.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="RangeFilter" class="doc_header"><code>class</code> <code>RangeFilter</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/plotting/controls.py#L53" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>RangeFilter</code>(<strong><code>data</code></strong>:<code>ndarray</code>, <strong><code>name</code></strong>:<code>str</code>, <strong><code>bins</code></strong>:<code>int</code>=<em><code>20</code></em>, <strong><code>steps</code></strong>:<code>int</code>=<em><code>50</code></em>, <strong><code>with_hist</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>width</code></strong>:<code>int</code>=<em><code>500</code></em>, <strong><code>height</code></strong>:<code>int</code>=<em><code>500</code></em>) :: <a href="/icevision_dashboards/plotting.controls.html#Filter"><code>Filter</code></a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A filter that uses a range slider for selection. Best used for continuous values.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">test_callback</span><span class="p">(</span><span class="n">selection</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">selection</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">selection</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Selection should be array&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="n">test_range_filter</span> <span class="o">=</span> <span class="n">RangeFilter</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;Values&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
<span class="n">test_range_filter</span><span class="o">.</span><span class="n">register_callback</span><span class="p">(</span><span class="n">test_callback</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">test_range_filter</span><span class="o">.</span><span class="n">show</span><span class="p">())</span>
<span class="n">test_range_filter</span><span class="o">.</span><span class="n">update_with_mask</span><span class="p">(</span><span class="n">data</span><span class="o">&lt;</span><span class="mi">6</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<div id='1038'>





  <div class="bk-root" id="0cf993c1-4cd7-4fae-94dd-448ef05dbe65" data-root-id="1038"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"13e75235-5a7a-480f-963a-e9524b6aeb32":{"roots":{"references":[{"attributes":{"axis":{"id":"1010"},"ticker":null},"id":"1013","type":"Grid"},{"attributes":{},"id":"1004","type":"DataRange1d"},{"attributes":{"below":[{"id":"1010"}],"center":[{"id":"1013"},{"id":"1017"}],"left":[{"id":"1014"}],"plot_height":100,"renderers":[{"id":"1035"}],"title":{"id":"1040"},"toolbar":{"id":"1025"},"toolbar_location":null,"x_range":{"id":"1002"},"x_scale":{"id":"1006"},"y_range":{"id":"1004"},"y_scale":{"id":"1008"}},"id":"1001","subtype":"Figure","type":"Plot"},{"attributes":{"formatter":{"id":"1044"},"ticker":{"id":"1011"}},"id":"1010","type":"LinearAxis"},{"attributes":{"client_comm_id":"fcea55b35f8f4cf7b6da1959a4943278","comm_id":"1f909d5250a34168b22ad550aab16f0a","plot_id":"1038"},"id":"1085","type":"panel.models.comm_manager.CommManager"},{"attributes":{},"id":"1015","type":"BasicTicker"},{"attributes":{"reload":false},"id":"1113","type":"panel.models.location.Location"},{"attributes":{"bottom":{"value":0},"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"left":{"field":"left"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"right":{"field":"right"},"top":{"field":"top"}},"id":"1034","type":"Quad"},{"attributes":{"axis":{"id":"1014"},"dimension":1,"ticker":null},"id":"1017","type":"Grid"},{"attributes":{"data_source":{"id":"1032"},"glyph":{"id":"1033"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1034"},"selection_glyph":null,"view":{"id":"1036"}},"id":"1035","type":"GlyphRenderer"},{"attributes":{"formatter":{"id":"1042"},"ticker":{"id":"1015"}},"id":"1014","type":"LinearAxis"},{"attributes":{},"id":"1008","type":"LinearScale"},{"attributes":{"overlay":{"id":"1024"}},"id":"1020","type":"BoxZoomTool"},{"attributes":{},"id":"1022","type":"ResetTool"},{"attributes":{},"id":"1011","type":"BasicTicker"},{"attributes":{},"id":"1019","type":"WheelZoomTool"},{"attributes":{"bottom":{"value":0},"fill_color":{"value":"#1f77b4"},"left":{"field":"left"},"line_color":{"value":"#1f77b4"},"right":{"field":"right"},"top":{"field":"top"}},"id":"1033","type":"Quad"},{"attributes":{"data":{"left":{"__ndarray__":"AAAAAAAAAAAAAAAAAADgPwAAAAAAAPA/AAAAAAAA+D8AAAAAAAAAQAAAAAAAAARAAAAAAAAACEAAAAAAAAAMQAAAAAAAABBAAAAAAAAAEkAAAAAAAAAUQAAAAAAAABZAAAAAAAAAGEAAAAAAAAAaQAAAAAAAABxAAAAAAAAAHkAAAAAAAAAgQAAAAAAAACFAAAAAAAAAIkAAAAAAAAAjQA==","dtype":"float64","order":"little","shape":[20]},"right":{"__ndarray__":"AAAAAAAA4D8AAAAAAADwPwAAAAAAAPg/AAAAAAAAAEAAAAAAAAAEQAAAAAAAAAhAAAAAAAAADEAAAAAAAAAQQAAAAAAAABJAAAAAAAAAFEAAAAAAAAAWQAAAAAAAABhAAAAAAAAAGkAAAAAAAAAcQAAAAAAAAB5AAAAAAAAAIEAAAAAAAAAhQAAAAAAAACJAAAAAAAAAI0AAAAAAAAAkQA==","dtype":"float64","order":"little","shape":[20]},"top":[1,0,1,0,1,0,1,0,0,0,0,0,1,0,1,0,0,0,0,1]},"selected":{"id":"1048"},"selection_policy":{"id":"1047"}},"id":"1032","type":"ColumnDataSource"},{"attributes":{},"id":"1018","type":"PanTool"},{"attributes":{},"id":"1021","type":"SaveTool"},{"attributes":{},"id":"1023","type":"HelpTool"},{"attributes":{},"id":"1006","type":"LinearScale"},{"attributes":{},"id":"1042","type":"BasicTickFormatter"},{"attributes":{},"id":"1002","type":"DataRange1d"},{"attributes":{"end":10.1,"format":"0[.]00","margin":[5,10,5,10],"min_width":582,"start":-0.1,"step":0.2,"title":"Values","value":[-0.1,10.1],"value_throttled":[-0.1,10.1],"width":582},"id":"1039","type":"RangeSlider"},{"attributes":{},"id":"1047","type":"UnionRenderers"},{"attributes":{"text":""},"id":"1040","type":"Title"},{"attributes":{},"id":"1048","type":"Selection"},{"attributes":{},"id":"1044","type":"BasicTickFormatter"},{"attributes":{"bottom_units":"screen","fill_alpha":0.5,"fill_color":"lightgrey","left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","top_units":"screen"},"id":"1024","type":"BoxAnnotation"},{"attributes":{"source":{"id":"1032"}},"id":"1036","type":"CDSView"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","logo":null,"tools":[{"id":"1018"},{"id":"1019"},{"id":"1020"},{"id":"1021"},{"id":"1022"},{"id":"1023"}]},"id":"1025","type":"Toolbar"},{"attributes":{"children":[{"id":"1039"},{"id":"1001"}],"margin":[0,0,0,0],"name":"Column00011"},"id":"1038","type":"Column"}],"root_ids":["1038","1085","1113"]},"title":"Bokeh Application","version":"2.2.3"}};
    var render_items = [{"docid":"13e75235-5a7a-480f-963a-e9524b6aeb32","root_ids":["1038"],"roots":{"1038":"0cf993c1-4cd7-4fae-94dd-448ef05dbe65"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="CategoricalFilter" class="doc_header"><code>class</code> <code>CategoricalFilter</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/plotting/controls.py#L102" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>CategoricalFilter</code>(<strong><code>data</code></strong>:<code>ndarray</code>, <strong><code>name</code></strong>:<code>str</code>, <strong><code>width</code></strong>:<code>int</code>=<em><code>500</code></em>, <strong><code>height</code></strong>:<code>int</code>=<em><code>500</code></em>) :: <a href="/icevision_dashboards/plotting.controls.html#Filter"><code>Filter</code></a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A filter for categorical data.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TimeFilter" class="doc_header"><code>class</code> <code>TimeFilter</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/plotting/controls.py#L129" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TimeFilter</code>(<strong><code>start_times</code></strong>:<code>Iterable</code>[<code>datetime</code>], <strong><code>end_times</code></strong>:<code>Iterable</code>[<code>datetime</code>], <strong><code>start_time_label</code></strong>:<code>str</code>=<em><code>'Start'</code></em>, <strong><code>end_time_label</code></strong>:<code>str</code>=<em><code>'End'</code></em>, <strong><code>width</code></strong>:<code>int</code>=<em><code>500</code></em>, <strong><code>height</code></strong>:<code>int</code>=<em><code>500</code></em>) :: <a href="/icevision_dashboards/plotting.controls.html#Filter"><code>Filter</code></a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This filter is for time information with a start and an end date. It has two range selectors one for the selection of the start time and one for the end time. The start and end time of a data point are represented by an arc plot.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">test_callback</span><span class="p">(</span><span class="n">selection</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">selection</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Selection should be array&quot;</span><span class="p">)</span>
<span class="n">test_start_times</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)])</span>
<span class="n">test_end_times</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)])</span>
<span class="n">test_time_filter</span> <span class="o">=</span> <span class="n">TimeFilter</span><span class="p">(</span><span class="n">test_start_times</span><span class="p">,</span> <span class="n">test_end_times</span><span class="p">)</span>
<span class="n">test_time_filter</span><span class="o">.</span><span class="n">end_time_slider</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="p">(</span><span class="n">test_end_times</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">],</span> <span class="n">test_end_times</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">test_time_filter</span><span class="o">.</span><span class="n">get_selection</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">==</span> <span class="mi">3</span>
<span class="n">test_time_filter</span><span class="o">.</span><span class="n">register_callback</span><span class="p">(</span><span class="n">test_callback</span><span class="p">)</span>
<span class="n">test_time_filter</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div id='1257'>





  <div class="bk-root" id="1d07a2bd-ac7a-48bd-867a-701e1d86c6b1" data-root-id="1257"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"4d1b59e5-01bc-4629-9b6b-f76e4a2b9b0f":{"roots":{"references":[{"attributes":{"mantissas":[1,2,5],"max_interval":500.0,"num_minor_ticks":0},"id":"1264","type":"AdaptiveTicker"},{"attributes":{"base":60,"mantissas":[1,2,5,10,15,20,30],"max_interval":1800000.0,"min_interval":1000.0,"num_minor_ticks":0},"id":"1265","type":"AdaptiveTicker"},{"attributes":{"days":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},"id":"1267","type":"DaysTicker"},{"attributes":{"base":24,"mantissas":[1,2,4,6,8,12],"max_interval":43200000.0,"min_interval":3600000.0,"num_minor_ticks":0},"id":"1266","type":"AdaptiveTicker"},{"attributes":{"months":[0,1,2,3,4,5,6,7,8,9,10,11]},"id":"1271","type":"MonthsTicker"},{"attributes":{"months":[0,2,4,6,8,10]},"id":"1272","type":"MonthsTicker"},{"attributes":{"end":1583798400000.0,"format":"%d %b %Y","height":50,"margin":[5,10,5,10],"sizing_mode":"fixed","start":1577836800000.0,"title":"End","value":[1583539200000.0,1583884800000.0],"value_throttled":[1577836800000.0,1583798400000.0],"width":500},"id":"1299","type":"DateRangeSlider"},{"attributes":{},"id":"1262","type":"DatetimeTickFormatter"},{"attributes":{"days":[1,4,7,10,13,16,19,22,25,28]},"id":"1268","type":"DaysTicker"},{"attributes":{"client_comm_id":"396aa39bb00644fd9a291eace16d640c","comm_id":"462ab852e2584301ac6e5f4c6e5b8fae","plot_id":"1257"},"id":"1360","type":"panel.models.comm_manager.CommManager"},{"attributes":{"data_source":{"id":"1252"},"glyph":{"id":"1253"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1254"},"selection_glyph":null,"view":{"id":"1256"}},"id":"1255","type":"GlyphRenderer"},{"attributes":{"days":[1,15]},"id":"1270","type":"DaysTicker"},{"attributes":{"months":[0,6]},"id":"1274","type":"MonthsTicker"},{"attributes":{},"id":"1260","type":"BasicTickFormatter"},{"attributes":{"below":[{"id":"1242"}],"center":[{"id":"1245"},{"id":"1249"}],"left":[{"id":"1246"}],"plot_height":400,"plot_width":500,"renderers":[{"id":"1255"}],"title":{"id":"1258"},"toolbar":{"id":"1250"},"toolbar_location":null,"x_range":{"id":"1234"},"x_scale":{"id":"1238"},"y_range":{"id":"1236"},"y_scale":{"id":"1240"}},"id":"1233","subtype":"Figure","type":"Plot"},{"attributes":{"days":[1,8,15,22]},"id":"1269","type":"DaysTicker"},{"attributes":{},"id":"1275","type":"YearsTicker"},{"attributes":{"data":{"radius":[2592000000.0,2592000000.0,2592000000.0,2592000000.0,2592000000.0,2592000000.0,2592000000.0,2592000000.0,2592000000.0,2592000000.0],"x":{"__ndarray__":"AAAAW47/dkIAAMDA4P92QgAAgCYzAHdCAABAjIUAd0IAAADy1wB3QgAAwFcqAXdCAACAvXwBd0IAAEAjzwF3QgAAAIkhAndCAADA7nMCd0I=","dtype":"float64","order":"little","shape":[10]}},"selected":{"id":"1277"},"selection_policy":{"id":"1276"}},"id":"1252","type":"ColumnDataSource"},{"attributes":{"end_angle":{"units":"rad","value":3.141592653589793},"line_color":{"value":"#1f77b4"},"radius":{"field":"radius","units":"data"},"start_angle":{"units":"rad","value":0},"x":{"field":"x"},"y":{"value":0}},"id":"1253","type":"Arc"},{"attributes":{"source":{"id":"1252"}},"id":"1256","type":"CDSView"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","logo":null},"id":"1250","type":"Toolbar"},{"attributes":{"months":[0,4,8]},"id":"1273","type":"MonthsTicker"},{"attributes":{"end_angle":{"units":"rad","value":3.141592653589793},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"radius":{"field":"radius","units":"data"},"start_angle":{"units":"rad","value":0},"x":{"field":"x"},"y":{"value":0}},"id":"1254","type":"Arc"},{"attributes":{"end":1583798400000.0,"start":1577836800000.0},"id":"1234","type":"Range1d"},{"attributes":{},"id":"1247","type":"BasicTicker"},{"attributes":{},"id":"1238","type":"LinearScale"},{"attributes":{"end":2592000000.0},"id":"1236","type":"Range1d"},{"attributes":{},"id":"1276","type":"UnionRenderers"},{"attributes":{},"id":"1240","type":"LinearScale"},{"attributes":{},"id":"1277","type":"Selection"},{"attributes":{"end":1583798400000.0,"format":"%d %b %Y","height":50,"margin":[5,10,5,10],"sizing_mode":"fixed","start":1577836800000.0,"title":"Start","value":[1577836800000.0,1583798400000.0],"value_throttled":[1577836800000.0,1583798400000.0],"width":500},"id":"1298","type":"DateRangeSlider"},{"attributes":{"text":""},"id":"1258","type":"Title"},{"attributes":{"num_minor_ticks":5,"tickers":[{"id":"1264"},{"id":"1265"},{"id":"1266"},{"id":"1267"},{"id":"1268"},{"id":"1269"},{"id":"1270"},{"id":"1271"},{"id":"1272"},{"id":"1273"},{"id":"1274"},{"id":"1275"}]},"id":"1243","type":"DatetimeTicker"},{"attributes":{"axis_label":"Date","formatter":{"id":"1262"},"ticker":{"id":"1243"}},"id":"1242","type":"DatetimeAxis"},{"attributes":{"children":[{"id":"1233"},{"id":"1298"},{"id":"1299"}],"margin":[0,0,0,0],"name":"Column00021"},"id":"1257","type":"Column"},{"attributes":{"axis":{"id":"1242"},"ticker":null},"id":"1245","type":"Grid"},{"attributes":{"formatter":{"id":"1260"},"major_label_text_font_size":"0pt","major_tick_line_color":null,"minor_tick_line_color":null,"ticker":{"id":"1247"}},"id":"1246","type":"LinearAxis"},{"attributes":{"axis":{"id":"1246"},"dimension":1,"ticker":null},"id":"1249","type":"Grid"}],"root_ids":["1257","1360"]},"title":"Bokeh Application","version":"2.2.3"}};
    var render_items = [{"docid":"4d1b59e5-01bc-4629-9b6b-f76e4a2b9b0f","root_ids":["1257"],"roots":{"1257":"1d07a2bd-ac7a-48bd-867a-701e1d86c6b1"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ScatterFilter" class="doc_header"><code>class</code> <code>ScatterFilter</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/plotting/controls.py#L161" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ScatterFilter</code>(<strong><code>x</code></strong>, <strong><code>y</code></strong>, <strong><code>x_label</code></strong>:<code>str</code>=<em><code>''</code></em>, <strong><code>y_label</code></strong>:<code>str</code>=<em><code>''</code></em>, <strong><code>width</code></strong>:<code>int</code>=<em><code>500</code></em>, <strong><code>height</code></strong>:<code>int</code>=<em><code>500</code></em>) :: <a href="/icevision_dashboards/plotting.controls.html#Filter"><code>Filter</code></a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include note.html content='The callback needs to take three arguments (attr, old, new)' %}</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">scatter_select</span> <span class="o">=</span> <span class="n">ScatterFilter</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">scatter_select</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div id='1497'>





  <div class="bk-root" id="fb0ba859-8287-4bd5-99e3-edee7db1ef03" data-root-id="1497"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"8510347e-b95b-4244-b434-bc9156bc7330":{"roots":{"references":[{"attributes":{},"id":"1467","type":"LinearScale"},{"attributes":{"fill_alpha":0.5,"fill_color":"lightgrey","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"xs_units":"screen","ys_units":"screen"},"id":"1480","type":"PolyAnnotation"},{"attributes":{},"id":"1465","type":"DataRange1d"},{"attributes":{"below":[{"id":"1471"}],"center":[{"id":"1474"},{"id":"1478"}],"left":[{"id":"1475"}],"plot_height":500,"plot_width":500,"renderers":[{"id":"1486"}],"title":{"id":"1488"},"toolbar":{"id":"1481"},"x_range":{"id":"1463"},"x_scale":{"id":"1467"},"y_range":{"id":"1465"},"y_scale":{"id":"1469"}},"id":"1462","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"1490","type":"BasicTickFormatter"},{"attributes":{"overlay":{"id":"1480"},"select_every_mousemove":false},"id":"1479","type":"LassoSelectTool"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"x":{"field":"x"},"y":{"field":"y"}},"id":"1485","type":"Scatter"},{"attributes":{},"id":"1492","type":"BasicTickFormatter"},{"attributes":{"client_comm_id":"06a92fd1387b4535a6967bce8e781e73","comm_id":"951bf9793fb34054be8050060fb27714","plot_id":"1497"},"id":"1543","type":"panel.models.comm_manager.CommManager"},{"attributes":{},"id":"1469","type":"LinearScale"},{"attributes":{"data":{"x":[1,2,3],"y":[1,3,1]},"selected":{"id":"1496"},"selection_policy":{"id":"1495"}},"id":"1461","type":"ColumnDataSource"},{"attributes":{},"id":"1463","type":"DataRange1d"},{"attributes":{},"id":"1495","type":"UnionRenderers"},{"attributes":{"axis":{"id":"1471"},"ticker":null},"id":"1474","type":"Grid"},{"attributes":{"formatter":{"id":"1490"},"ticker":{"id":"1476"}},"id":"1475","type":"LinearAxis"},{"attributes":{},"id":"1476","type":"BasicTicker"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"1479"}]},"id":"1481","type":"Toolbar"},{"attributes":{},"id":"1496","type":"Selection"},{"attributes":{"axis":{"id":"1475"},"dimension":1,"ticker":null},"id":"1478","type":"Grid"},{"attributes":{"source":{"id":"1461"}},"id":"1487","type":"CDSView"},{"attributes":{},"id":"1472","type":"BasicTicker"},{"attributes":{"data_source":{"id":"1461"},"glyph":{"id":"1484"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1485"},"selection_glyph":null,"view":{"id":"1487"}},"id":"1486","type":"GlyphRenderer"},{"attributes":{"children":[{"id":"1462"}],"margin":[0,0,0,0],"name":"Row00026"},"id":"1497","type":"Row"},{"attributes":{"text":""},"id":"1488","type":"Title"},{"attributes":{"fill_color":{"value":"#1f77b4"},"line_color":{"value":"#1f77b4"},"x":{"field":"x"},"y":{"field":"y"}},"id":"1484","type":"Scatter"},{"attributes":{"formatter":{"id":"1492"},"ticker":{"id":"1472"}},"id":"1471","type":"LinearAxis"}],"root_ids":["1497","1543"]},"title":"Bokeh Application","version":"2.2.3"}};
    var render_items = [{"docid":"8510347e-b95b-4244-b434-bc9156bc7330","root_ids":["1497"],"roots":{"1497":"fb0ba859-8287-4bd5-99e3-edee7db1ef03"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="GenericMulitScatterFilter" class="doc_header"><code>class</code> <code>GenericMulitScatterFilter</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/plotting/controls.py#L188" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>GenericMulitScatterFilter</code>(<strong><code>data</code></strong>, <strong><code>columns</code></strong>:<code>Optional</code>[<code>List</code>[<code>str</code>]]=<em><code>None</code></em>, <strong><code>mode</code></strong>:<code>str</code>=<em><code>'symmetric'</code></em>, <strong><code>width</code></strong>:<code>int</code>=<em><code>500</code></em>, <strong><code>height</code></strong>:<code>int</code>=<em><code>500</code></em>) :: <a href="/icevision_dashboards/plotting.controls.html#Filter"><code>Filter</code></a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include note.html content='And will highlight all points if the "And" selction is empty' %}</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_multi_scatter_filter</span> <span class="o">=</span> <span class="n">GenericMulitScatterFilter</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]}))</span>
<span class="n">test_multi_scatter_filter</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div id='1627'>





  <div class="bk-root" id="795055fa-e4d5-40af-8ca7-cf5072a09ee5" data-root-id="1627"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"d7c5a322-165d-4ad7-a800-20dce9e9a78e":{"roots":{"references":[{"attributes":{"text":""},"id":"1618","type":"Title"},{"attributes":{"data_source":{"id":"1589"},"glyph":{"id":"1614"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1615"},"selection_glyph":null,"view":{"id":"1617"}},"id":"1616","type":"GlyphRenderer"},{"attributes":{"children":[{"id":"1632"},{"id":"1633"}],"margin":[0,0,0,0],"name":"Row00042"},"id":"1631","type":"Row"},{"attributes":{"source":{"id":"1589"}},"id":"1617","type":"CDSView"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00040","text":"&lt;p&gt;Combine selections with: &lt;/p&gt;"},"id":"1632","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1598","type":"LinearScale"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00034","text":"&lt;p style=&#x27;color:#FF00FF&#x27;;&gt;Selected in another&lt;/p&gt;"},"id":"1636","type":"panel.models.markup.HTML"},{"attributes":{"client_comm_id":"68a4ef1a4b6645e0969310d3d306fce0","comm_id":"c9941e45fcf94b55ad7af4c9d241d048","plot_id":"1627"},"id":"1683","type":"panel.models.comm_manager.CommManager"},{"attributes":{"active":0,"inline":true,"labels":["None","Or","And"],"margin":[5,10,5,10],"min_width":500,"width":500},"id":"1633","type":"RadioGroup"},{"attributes":{"fill_alpha":0.5,"fill_color":"lightgrey","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"xs_units":"screen","ys_units":"screen"},"id":"1609","type":"PolyAnnotation"},{"attributes":{"children":[{"id":"1628"},{"id":"1631"},{"id":"1634"},{"id":"1591"}],"margin":[0,0,0,0],"name":"Column00045"},"id":"1627","type":"Column"},{"attributes":{},"id":"1622","type":"BasicTickFormatter"},{"attributes":{"fill_color":{"field":"colors"},"line_color":{"value":null},"radius":{"units":"data","value":0.11},"x":{"field":"x"},"y":{"field":"y"}},"id":"1614","type":"Circle"},{"attributes":{"children":[{"id":"1629"},{"id":"1630"}],"margin":[0,0,0,0],"name":"Row00039"},"id":"1628","type":"Row"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00032","text":"&lt;p style=&#x27;color:#B22222&#x27;;&gt;Selected in current&lt;/p&gt;"},"id":"1635","type":"panel.models.markup.HTML"},{"attributes":{"height":50,"margin":[5,10,5,10],"options":["x","y"],"sizing_mode":"fixed","title":"x-Axis","value":"x","width":250},"id":"1629","type":"Select"},{"attributes":{"height":50,"margin":[5,10,5,10],"options":["x","y"],"sizing_mode":"fixed","title":"y-Axis","value":"y","width":250},"id":"1630","type":"Select"},{"attributes":{},"id":"1594","type":"DataRange1d"},{"attributes":{"indices":[]},"id":"1590","type":"Selection"},{"attributes":{"axis":{"id":"1604"},"dimension":1,"ticker":null},"id":"1607","type":"Grid"},{"attributes":{"data":{"colors":["gray","gray","gray","gray","gray","gray","gray","gray"],"index":[0,1,2,3,4,5,6,7],"x":[1,2,3,4,5,6,7,8],"y":[1,1,3,5,5,5,2,4]},"selected":{"id":"1590"},"selection_policy":{"id":"1625"}},"id":"1589","type":"ColumnDataSource"},{"attributes":{"overlay":{"id":"1609"},"select_every_mousemove":false},"id":"1608","type":"LassoSelectTool"},{"attributes":{"axis_label":"y","formatter":{"id":"1620"},"ticker":{"id":"1605"}},"id":"1604","type":"LinearAxis"},{"attributes":{"axis_label":"x","formatter":{"id":"1622"},"ticker":{"id":"1601"}},"id":"1600","type":"LinearAxis"},{"attributes":{},"id":"1620","type":"BasicTickFormatter"},{"attributes":{"children":[{"id":"1635"},{"id":"1636"},{"id":"1637"}],"margin":[0,0,0,0],"name":"Row00038"},"id":"1634","type":"Row"},{"attributes":{},"id":"1605","type":"BasicTicker"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"1608"}]},"id":"1610","type":"Toolbar"},{"attributes":{},"id":"1625","type":"UnionRenderers"},{"attributes":{"below":[{"id":"1600"}],"center":[{"id":"1603"},{"id":"1607"}],"left":[{"id":"1604"}],"plot_height":450,"plot_width":500,"renderers":[{"id":"1616"}],"title":{"id":"1618"},"toolbar":{"id":"1610"},"x_range":{"id":"1592"},"x_scale":{"id":"1596"},"y_range":{"id":"1594"},"y_scale":{"id":"1598"}},"id":"1591","subtype":"Figure","type":"Plot"},{"attributes":{"axis":{"id":"1600"},"ticker":null},"id":"1603","type":"Grid"},{"attributes":{},"id":"1596","type":"LinearScale"},{"attributes":{},"id":"1601","type":"BasicTicker"},{"attributes":{},"id":"1592","type":"DataRange1d"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00036","text":"&lt;p style=&#x27;color:#808080&#x27;;&gt;Not selected&lt;/p&gt;"},"id":"1637","type":"panel.models.markup.HTML"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"field":"colors"},"line_alpha":{"value":0.1},"line_color":{"value":null},"radius":{"units":"data","value":0.11},"x":{"field":"x"},"y":{"field":"y"}},"id":"1615","type":"Circle"}],"root_ids":["1627","1683"]},"title":"Bokeh Application","version":"2.2.3"}};
    var render_items = [{"docid":"d7c5a322-165d-4ad7-a800-20dce9e9a78e","root_ids":["1627"],"roots":{"1627":"795055fa-e4d5-40af-8ca7-cf5072a09ee5"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

