---

title: plotting.controls


keywords: fastai
sidebar: home_sidebar

summary: "Supplies control elements for dashboards"
description: "Supplies control elements for dashboards"
nb_path: "nbs/plotting.controls.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/plotting.controls.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Filter" class="doc_header"><code>class</code> <code>Filter</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/plotting/controls.py#L24" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Filter</code>(<strong><code>data</code></strong>, <strong><code>width</code></strong>=<em><code>500</code></em>, <strong><code>height</code></strong>=<em><code>500</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Abstract baseclass for a filter. A filter requires three methods to be implemented</p>
<ol>
<li><code>build_gui</code>: Defines the gui elements of the filter (slider, checkboxes etc.)</li>
<li><code>get_selection</code>: Returns a binary mask indicating which elements of the data are selected and which not</li>
<li><code>show</code>: Returns the gui of the filter</li>
<li><code>register_callback</code>: Handels the registration of callbacks. This function should contain the following line <code>callback = self.maks_callback(callback)</code> to ensure that the callback receives the current selection of the filter instead of an <code>event</code> or <code>attr</code>, <code>old</code> and <code>new</code></li>
</ol>
<p>All callbacks registered to a filter will receive the current selection of the fitler as argument. To ensure this behaviour inside the <code>register_callback</code> function the callback needs to be masked with the <code>mask_callback</code> method. If a different behaviour is need it should be sufficient to change the <code>mask_callback</code> method.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="RangeFilter" class="doc_header"><code>class</code> <code>RangeFilter</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/plotting/controls.py#L53" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>RangeFilter</code>(<strong><code>data</code></strong>:<code>ndarray</code>, <strong><code>name</code></strong>:<code>str</code>, <strong><code>bins</code></strong>:<code>int</code>=<em><code>20</code></em>, <strong><code>steps</code></strong>:<code>int</code>=<em><code>50</code></em>, <strong><code>with_hist</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>width</code></strong>:<code>int</code>=<em><code>500</code></em>, <strong><code>height</code></strong>:<code>int</code>=<em><code>500</code></em>) :: <a href="/icevision_dashboards/plotting.controls.html#Filter"><code>Filter</code></a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A filter that uses a range slider for selection. Best used for continuous values.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">test_callback</span><span class="p">(</span><span class="n">selection</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">selection</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">selection</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Selection should be array&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="n">test_range_filter</span> <span class="o">=</span> <span class="n">RangeFilter</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;Values&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
<span class="n">test_range_filter</span><span class="o">.</span><span class="n">register_callback</span><span class="p">(</span><span class="n">test_callback</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">test_range_filter</span><span class="o">.</span><span class="n">show</span><span class="p">())</span>
<span class="n">test_range_filter</span><span class="o">.</span><span class="n">update_with_mask</span><span class="p">(</span><span class="n">data</span><span class="o">&lt;</span><span class="mi">6</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<div id='1040'>





  <div class="bk-root" id="19526872-b88b-419c-b512-c4f2ea0e6867" data-root-id="1040"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"17765eee-74cb-40c1-8dd6-70fd4b70de81":{"roots":{"references":[{"attributes":{},"id":"1025","type":"HelpTool"},{"attributes":{},"id":"1013","type":"BasicTicker"},{"attributes":{"data":{"left":{"__ndarray__":"AAAAAAAAAAAAAAAAAADgPwAAAAAAAPA/AAAAAAAA+D8AAAAAAAAAQAAAAAAAAARAAAAAAAAACEAAAAAAAAAMQAAAAAAAABBAAAAAAAAAEkAAAAAAAAAUQAAAAAAAABZAAAAAAAAAGEAAAAAAAAAaQAAAAAAAABxAAAAAAAAAHkAAAAAAAAAgQAAAAAAAACFAAAAAAAAAIkAAAAAAAAAjQA==","dtype":"float64","order":"little","shape":[20]},"right":{"__ndarray__":"AAAAAAAA4D8AAAAAAADwPwAAAAAAAPg/AAAAAAAAAEAAAAAAAAAEQAAAAAAAAAhAAAAAAAAADEAAAAAAAAAQQAAAAAAAABJAAAAAAAAAFEAAAAAAAAAWQAAAAAAAABhAAAAAAAAAGkAAAAAAAAAcQAAAAAAAAB5AAAAAAAAAIEAAAAAAAAAhQAAAAAAAACJAAAAAAAAAI0AAAAAAAAAkQA==","dtype":"float64","order":"little","shape":[20]},"top":[1,0,1,0,1,0,1,0,0,0,0,0,1,0,1,0,0,0,0,1]},"selected":{"id":"1049"},"selection_policy":{"id":"1048"}},"id":"1034","type":"ColumnDataSource"},{"attributes":{},"id":"1048","type":"UnionRenderers"},{"attributes":{"formatter":{"id":"1045"},"ticker":{"id":"1013"}},"id":"1012","type":"LinearAxis"},{"attributes":{"formatter":{"id":"1043"},"ticker":{"id":"1017"}},"id":"1016","type":"LinearAxis"},{"attributes":{},"id":"1049","type":"Selection"},{"attributes":{},"id":"1010","type":"LinearScale"},{"attributes":{},"id":"1043","type":"BasicTickFormatter"},{"attributes":{"axis":{"id":"1012"},"ticker":null},"id":"1015","type":"Grid"},{"attributes":{"axis":{"id":"1016"},"dimension":1,"ticker":null},"id":"1019","type":"Grid"},{"attributes":{},"id":"1017","type":"BasicTicker"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","logo":null,"tools":[{"id":"1020"},{"id":"1021"},{"id":"1022"},{"id":"1023"},{"id":"1024"},{"id":"1025"}]},"id":"1027","type":"Toolbar"},{"attributes":{},"id":"1004","type":"DataRange1d"},{"attributes":{},"id":"1023","type":"SaveTool"},{"attributes":{"below":[{"id":"1012"}],"center":[{"id":"1015"},{"id":"1019"}],"left":[{"id":"1016"}],"plot_height":100,"renderers":[{"id":"1037"}],"title":{"id":"1002"},"toolbar":{"id":"1027"},"toolbar_location":null,"x_range":{"id":"1004"},"x_scale":{"id":"1008"},"y_range":{"id":"1006"},"y_scale":{"id":"1010"}},"id":"1001","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"1024","type":"ResetTool"},{"attributes":{},"id":"1006","type":"DataRange1d"},{"attributes":{},"id":"1021","type":"WheelZoomTool"},{"attributes":{},"id":"1045","type":"BasicTickFormatter"},{"attributes":{},"id":"1020","type":"PanTool"},{"attributes":{"source":{"id":"1034"}},"id":"1038","type":"CDSView"},{"attributes":{"overlay":{"id":"1026"}},"id":"1022","type":"BoxZoomTool"},{"attributes":{},"id":"1008","type":"LinearScale"},{"attributes":{"client_comm_id":"8ab23745b46e46e3b10e45ad6ef807bc","comm_id":"040c5a7b959942c887761775cdac7035","plot_id":"1040"},"id":"1082","type":"panel.models.comm_manager.CommManager"},{"attributes":{"bottom_units":"screen","fill_alpha":0.5,"fill_color":"lightgrey","left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","top_units":"screen"},"id":"1026","type":"BoxAnnotation"},{"attributes":{"text":""},"id":"1002","type":"Title"},{"attributes":{"children":[{"id":"1041"},{"id":"1001"}],"margin":[0,0,0,0],"name":"Column00010"},"id":"1040","type":"Column"},{"attributes":{"end":10.1,"format":"0[.]00","margin":[5,10,5,10],"min_width":582,"start":-0.1,"step":0.2,"title":"Values","value":[-0.1,10.1],"value_throttled":[-0.1,10.1],"width":582},"id":"1041","type":"RangeSlider"},{"attributes":{"data_source":{"id":"1034"},"glyph":{"id":"1035"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1036"},"selection_glyph":null,"view":{"id":"1038"}},"id":"1037","type":"GlyphRenderer"},{"attributes":{"bottom":{"value":0},"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"left":{"field":"left"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"right":{"field":"right"},"top":{"field":"top"}},"id":"1036","type":"Quad"},{"attributes":{"reload":false},"id":"1107","type":"panel.models.location.Location"},{"attributes":{"bottom":{"value":0},"fill_color":{"value":"#1f77b4"},"left":{"field":"left"},"line_color":{"value":"#1f77b4"},"right":{"field":"right"},"top":{"field":"top"}},"id":"1035","type":"Quad"}],"root_ids":["1040","1082","1107"]},"title":"Bokeh Application","version":"2.2.3"}};
    var render_items = [{"docid":"17765eee-74cb-40c1-8dd6-70fd4b70de81","root_ids":["1040"],"roots":{"1040":"19526872-b88b-419c-b512-c4f2ea0e6867"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="CategoricalFilter" class="doc_header"><code>class</code> <code>CategoricalFilter</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/plotting/controls.py#L102" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>CategoricalFilter</code>(<strong><code>data</code></strong>:<code>ndarray</code>, <strong><code>name</code></strong>:<code>str</code>, <strong><code>width</code></strong>:<code>int</code>=<em><code>500</code></em>, <strong><code>height</code></strong>:<code>int</code>=<em><code>500</code></em>) :: <a href="/icevision_dashboards/plotting.controls.html#Filter"><code>Filter</code></a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A filter for categorical data.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TimeFilter" class="doc_header"><code>class</code> <code>TimeFilter</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/plotting/controls.py#L129" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TimeFilter</code>(<strong><code>start_times</code></strong>:<code>Iterable</code>[<code>datetime</code>], <strong><code>end_times</code></strong>:<code>Iterable</code>[<code>datetime</code>], <strong><code>start_time_label</code></strong>:<code>str</code>=<em><code>'Start'</code></em>, <strong><code>end_time_label</code></strong>:<code>str</code>=<em><code>'End'</code></em>, <strong><code>width</code></strong>:<code>int</code>=<em><code>500</code></em>, <strong><code>height</code></strong>:<code>int</code>=<em><code>500</code></em>) :: <a href="/icevision_dashboards/plotting.controls.html#Filter"><code>Filter</code></a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This filter is for time information with a start and an end date. It has two range selectors one for the selection of the start time and one for the end time. The start and end time of a data point are represented by an arc plot.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">test_callback</span><span class="p">(</span><span class="n">selection</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">selection</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Selection should be array&quot;</span><span class="p">)</span>
<span class="n">test_start_times</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)])</span>
<span class="n">test_end_times</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)])</span>
<span class="n">test_time_filter</span> <span class="o">=</span> <span class="n">TimeFilter</span><span class="p">(</span><span class="n">test_start_times</span><span class="p">,</span> <span class="n">test_end_times</span><span class="p">)</span>
<span class="n">test_time_filter</span><span class="o">.</span><span class="n">end_time_slider</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="p">(</span><span class="n">test_end_times</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">],</span> <span class="n">test_end_times</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">test_time_filter</span><span class="o">.</span><span class="n">get_selection</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">==</span> <span class="mi">3</span>
<span class="n">test_time_filter</span><span class="o">.</span><span class="n">register_callback</span><span class="p">(</span><span class="n">test_callback</span><span class="p">)</span>
<span class="n">test_time_filter</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div id='1244'>





  <div class="bk-root" id="c9da6ae6-962b-4979-9de5-926d5d6e5715" data-root-id="1244"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"6f3b445b-2e40-4ac8-bdaa-e9fbb33c67da":{"roots":{"references":[{"attributes":{},"id":"1263","type":"UnionRenderers"},{"attributes":{},"id":"1264","type":"Selection"},{"attributes":{"end":1583798400000.0,"format":"%d %b %Y","height":50,"margin":[5,10,5,10],"sizing_mode":"fixed","start":1577836800000.0,"title":"Start","value":[1577836800000.0,1583798400000.0],"value_throttled":[1577836800000.0,1583798400000.0],"width":500},"id":"1285","type":"DateRangeSlider"},{"attributes":{"text":""},"id":"1246","type":"Title"},{"attributes":{"days":[1,4,7,10,13,16,19,22,25,28]},"id":"1255","type":"DaysTicker"},{"attributes":{"children":[{"id":"1220"},{"id":"1285"},{"id":"1286"}],"margin":[0,0,0,0],"name":"Column00020"},"id":"1244","type":"Column"},{"attributes":{},"id":"1249","type":"DatetimeTickFormatter"},{"attributes":{"client_comm_id":"37be48ff60984a698c0b4c5d6d805e4a","comm_id":"75a2ae9d75074b338644275aa15c0680","plot_id":"1244"},"id":"1347","type":"panel.models.comm_manager.CommManager"},{"attributes":{"axis":{"id":"1233"},"dimension":1,"ticker":null},"id":"1236","type":"Grid"},{"attributes":{"num_minor_ticks":5,"tickers":[{"id":"1251"},{"id":"1252"},{"id":"1253"},{"id":"1254"},{"id":"1255"},{"id":"1256"},{"id":"1257"},{"id":"1258"},{"id":"1259"},{"id":"1260"},{"id":"1261"},{"id":"1262"}]},"id":"1230","type":"DatetimeTicker"},{"attributes":{},"id":"1225","type":"LinearScale"},{"attributes":{},"id":"1227","type":"LinearScale"},{"attributes":{"axis_label":"Date","formatter":{"id":"1249"},"ticker":{"id":"1230"}},"id":"1229","type":"DatetimeAxis"},{"attributes":{"base":60,"mantissas":[1,2,5,10,15,20,30],"max_interval":1800000.0,"min_interval":1000.0,"num_minor_ticks":0},"id":"1252","type":"AdaptiveTicker"},{"attributes":{},"id":"1234","type":"BasicTicker"},{"attributes":{"end_angle":{"units":"rad","value":3.141592653589793},"line_color":{"value":"#1f77b4"},"radius":{"field":"radius","units":"data"},"start_angle":{"units":"rad","value":0},"x":{"field":"x"},"y":{"value":0}},"id":"1240","type":"Arc"},{"attributes":{"mantissas":[1,2,5],"max_interval":500.0,"num_minor_ticks":0},"id":"1251","type":"AdaptiveTicker"},{"attributes":{"source":{"id":"1239"}},"id":"1243","type":"CDSView"},{"attributes":{"axis":{"id":"1229"},"ticker":null},"id":"1232","type":"Grid"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","logo":null},"id":"1237","type":"Toolbar"},{"attributes":{"formatter":{"id":"1247"},"major_label_text_font_size":"0pt","major_tick_line_color":null,"minor_tick_line_color":null,"ticker":{"id":"1234"}},"id":"1233","type":"LinearAxis"},{"attributes":{"end_angle":{"units":"rad","value":3.141592653589793},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"radius":{"field":"radius","units":"data"},"start_angle":{"units":"rad","value":0},"x":{"field":"x"},"y":{"value":0}},"id":"1241","type":"Arc"},{"attributes":{"below":[{"id":"1229"}],"center":[{"id":"1232"},{"id":"1236"}],"left":[{"id":"1233"}],"plot_height":400,"plot_width":500,"renderers":[{"id":"1242"}],"title":{"id":"1246"},"toolbar":{"id":"1237"},"toolbar_location":null,"x_range":{"id":"1221"},"x_scale":{"id":"1225"},"y_range":{"id":"1223"},"y_scale":{"id":"1227"}},"id":"1220","subtype":"Figure","type":"Plot"},{"attributes":{"months":[0,2,4,6,8,10]},"id":"1259","type":"MonthsTicker"},{"attributes":{"days":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},"id":"1254","type":"DaysTicker"},{"attributes":{"months":[0,1,2,3,4,5,6,7,8,9,10,11]},"id":"1258","type":"MonthsTicker"},{"attributes":{"data_source":{"id":"1239"},"glyph":{"id":"1240"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1241"},"selection_glyph":null,"view":{"id":"1243"}},"id":"1242","type":"GlyphRenderer"},{"attributes":{"end":1583798400000.0,"format":"%d %b %Y","height":50,"margin":[5,10,5,10],"sizing_mode":"fixed","start":1577836800000.0,"title":"End","value":[1583539200000.0,1583884800000.0],"value_throttled":[1577836800000.0,1583798400000.0],"width":500},"id":"1286","type":"DateRangeSlider"},{"attributes":{"data":{"radius":[2592000000.0,2592000000.0,2592000000.0,2592000000.0,2592000000.0,2592000000.0,2592000000.0,2592000000.0,2592000000.0,2592000000.0],"x":{"__ndarray__":"AAAAW47/dkIAAMDA4P92QgAAgCYzAHdCAABAjIUAd0IAAADy1wB3QgAAwFcqAXdCAACAvXwBd0IAAEAjzwF3QgAAAIkhAndCAADA7nMCd0I=","dtype":"float64","order":"little","shape":[10]}},"selected":{"id":"1264"},"selection_policy":{"id":"1263"}},"id":"1239","type":"ColumnDataSource"},{"attributes":{"days":[1,15]},"id":"1257","type":"DaysTicker"},{"attributes":{"months":[0,6]},"id":"1261","type":"MonthsTicker"},{"attributes":{},"id":"1247","type":"BasicTickFormatter"},{"attributes":{"base":24,"mantissas":[1,2,4,6,8,12],"max_interval":43200000.0,"min_interval":3600000.0,"num_minor_ticks":0},"id":"1253","type":"AdaptiveTicker"},{"attributes":{"days":[1,8,15,22]},"id":"1256","type":"DaysTicker"},{"attributes":{"end":2592000000.0},"id":"1223","type":"Range1d"},{"attributes":{},"id":"1262","type":"YearsTicker"},{"attributes":{"end":1583798400000.0,"start":1577836800000.0},"id":"1221","type":"Range1d"},{"attributes":{"months":[0,4,8]},"id":"1260","type":"MonthsTicker"}],"root_ids":["1244","1347"]},"title":"Bokeh Application","version":"2.2.3"}};
    var render_items = [{"docid":"6f3b445b-2e40-4ac8-bdaa-e9fbb33c67da","root_ids":["1244"],"roots":{"1244":"c9da6ae6-962b-4979-9de5-926d5d6e5715"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ScatterFilter" class="doc_header"><code>class</code> <code>ScatterFilter</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/plotting/controls.py#L161" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ScatterFilter</code>(<strong><code>x</code></strong>, <strong><code>y</code></strong>, <strong><code>x_label</code></strong>:<code>str</code>=<em><code>''</code></em>, <strong><code>y_label</code></strong>:<code>str</code>=<em><code>''</code></em>, <strong><code>width</code></strong>:<code>int</code>=<em><code>500</code></em>, <strong><code>height</code></strong>:<code>int</code>=<em><code>500</code></em>) :: <a href="/icevision_dashboards/plotting.controls.html#Filter"><code>Filter</code></a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include note.html content='The callback needs to take three arguments (attr, old, new)' %}</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">scatter_select</span> <span class="o">=</span> <span class="n">ScatterFilter</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">scatter_select</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div id='1484'>





  <div class="bk-root" id="4bf8f208-473a-4185-95fc-2a3b8db71bd9" data-root-id="1484"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"fb24693d-9b22-4736-a069-c544cd3bedcf":{"roots":{"references":[{"attributes":{},"id":"1463","type":"BasicTicker"},{"attributes":{"text":""},"id":"1476","type":"Title"},{"attributes":{},"id":"1456","type":"LinearScale"},{"attributes":{},"id":"1483","type":"Selection"},{"attributes":{},"id":"1452","type":"DataRange1d"},{"attributes":{"data_source":{"id":"1448"},"glyph":{"id":"1471"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1472"},"selection_glyph":null,"view":{"id":"1474"}},"id":"1473","type":"GlyphRenderer"},{"attributes":{"fill_alpha":0.5,"fill_color":"lightgrey","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"xs_units":"screen","ys_units":"screen"},"id":"1467","type":"PolyAnnotation"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"x":{"field":"x"},"y":{"field":"y"}},"id":"1472","type":"Scatter"},{"attributes":{"data":{"x":[1,2,3],"y":[1,3,1]},"selected":{"id":"1483"},"selection_policy":{"id":"1482"}},"id":"1448","type":"ColumnDataSource"},{"attributes":{},"id":"1482","type":"UnionRenderers"},{"attributes":{"axis":{"id":"1458"},"ticker":null},"id":"1461","type":"Grid"},{"attributes":{"fill_color":{"value":"#1f77b4"},"line_color":{"value":"#1f77b4"},"x":{"field":"x"},"y":{"field":"y"}},"id":"1471","type":"Scatter"},{"attributes":{"axis":{"id":"1462"},"dimension":1,"ticker":null},"id":"1465","type":"Grid"},{"attributes":{"overlay":{"id":"1467"},"select_every_mousemove":false},"id":"1466","type":"LassoSelectTool"},{"attributes":{},"id":"1479","type":"BasicTickFormatter"},{"attributes":{"formatter":{"id":"1477"},"ticker":{"id":"1463"}},"id":"1462","type":"LinearAxis"},{"attributes":{},"id":"1454","type":"LinearScale"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"1466"}]},"id":"1468","type":"Toolbar"},{"attributes":{},"id":"1459","type":"BasicTicker"},{"attributes":{"client_comm_id":"822463118f974a0285584ed895f92381","comm_id":"884a8bbc9b334dd3974199f37b70d7b3","plot_id":"1484"},"id":"1530","type":"panel.models.comm_manager.CommManager"},{"attributes":{},"id":"1450","type":"DataRange1d"},{"attributes":{"formatter":{"id":"1479"},"ticker":{"id":"1459"}},"id":"1458","type":"LinearAxis"},{"attributes":{"source":{"id":"1448"}},"id":"1474","type":"CDSView"},{"attributes":{"children":[{"id":"1449"}],"margin":[0,0,0,0],"name":"Row00025"},"id":"1484","type":"Row"},{"attributes":{"below":[{"id":"1458"}],"center":[{"id":"1461"},{"id":"1465"}],"left":[{"id":"1462"}],"plot_height":500,"plot_width":500,"renderers":[{"id":"1473"}],"title":{"id":"1476"},"toolbar":{"id":"1468"},"x_range":{"id":"1450"},"x_scale":{"id":"1454"},"y_range":{"id":"1452"},"y_scale":{"id":"1456"}},"id":"1449","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"1477","type":"BasicTickFormatter"}],"root_ids":["1484","1530"]},"title":"Bokeh Application","version":"2.2.3"}};
    var render_items = [{"docid":"fb24693d-9b22-4736-a069-c544cd3bedcf","root_ids":["1484"],"roots":{"1484":"4bf8f208-473a-4185-95fc-2a3b8db71bd9"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="GenericMulitScatterFilter" class="doc_header"><code>class</code> <code>GenericMulitScatterFilter</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/plotting/controls.py#L188" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>GenericMulitScatterFilter</code>(<strong><code>data</code></strong>, <strong><code>columns</code></strong>:<code>Optional</code>[<code>List</code>[<code>str</code>]]=<em><code>None</code></em>, <strong><code>mode</code></strong>:<code>str</code>=<em><code>'symmetric'</code></em>, <strong><code>width</code></strong>:<code>int</code>=<em><code>500</code></em>, <strong><code>height</code></strong>:<code>int</code>=<em><code>500</code></em>) :: <a href="/icevision_dashboards/plotting.controls.html#Filter"><code>Filter</code></a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include note.html content='And will highlight all points if the "And" selction is empty' %}</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_multi_scatter_filter</span> <span class="o">=</span> <span class="n">GenericMulitScatterFilter</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]}))</span>
<span class="n">test_multi_scatter_filter</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div id='1614'>





  <div class="bk-root" id="2b5be23f-4552-419b-8524-ddb18b1db3c6" data-root-id="1614"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"0e96c20b-001a-4040-acde-2444e6630bac":{"roots":{"references":[{"attributes":{"children":[{"id":"1619"},{"id":"1620"}],"margin":[0,0,0,0],"name":"Row00041"},"id":"1618","type":"Row"},{"attributes":{"children":[{"id":"1616"},{"id":"1617"}],"margin":[0,0,0,0],"name":"Row00038"},"id":"1615","type":"Row"},{"attributes":{"active":0,"inline":true,"labels":["None","Or","And"],"margin":[5,10,5,10],"min_width":500,"width":500},"id":"1620","type":"RadioGroup"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00035","text":"&lt;p style=&#x27;color:#808080&#x27;;&gt;Not selected&lt;/p&gt;"},"id":"1624","type":"panel.models.markup.HTML"},{"attributes":{"data_source":{"id":"1576"},"glyph":{"id":"1601"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1602"},"selection_glyph":null,"view":{"id":"1604"}},"id":"1603","type":"GlyphRenderer"},{"attributes":{"source":{"id":"1576"}},"id":"1604","type":"CDSView"},{"attributes":{"children":[{"id":"1615"},{"id":"1618"},{"id":"1621"},{"id":"1578"}],"margin":[0,0,0,0],"name":"Column00044"},"id":"1614","type":"Column"},{"attributes":{"text":""},"id":"1606","type":"Title"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00039","text":"&lt;p&gt;Combine selections with: &lt;/p&gt;"},"id":"1619","type":"panel.models.markup.HTML"},{"attributes":{},"id":"1581","type":"DataRange1d"},{"attributes":{"axis":{"id":"1591"},"dimension":1,"ticker":null},"id":"1594","type":"Grid"},{"attributes":{"fill_color":{"field":"colors"},"line_color":{"value":null},"radius":{"units":"data","value":0.11},"x":{"field":"x"},"y":{"field":"y"}},"id":"1601","type":"Circle"},{"attributes":{"axis_label":"x","formatter":{"id":"1609"},"ticker":{"id":"1588"}},"id":"1587","type":"LinearAxis"},{"attributes":{},"id":"1607","type":"BasicTickFormatter"},{"attributes":{},"id":"1579","type":"DataRange1d"},{"attributes":{"axis":{"id":"1587"},"ticker":null},"id":"1590","type":"Grid"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00031","text":"&lt;p style=&#x27;color:#B22222&#x27;;&gt;Selected in current&lt;/p&gt;"},"id":"1622","type":"panel.models.markup.HTML"},{"attributes":{"overlay":{"id":"1596"},"select_every_mousemove":false},"id":"1595","type":"LassoSelectTool"},{"attributes":{"height":50,"margin":[5,10,5,10],"options":["x","y"],"sizing_mode":"fixed","title":"y-Axis","value":"y","width":250},"id":"1617","type":"Select"},{"attributes":{"height":50,"margin":[5,10,5,10],"options":["x","y"],"sizing_mode":"fixed","title":"x-Axis","value":"x","width":250},"id":"1616","type":"Select"},{"attributes":{"children":[{"id":"1622"},{"id":"1623"},{"id":"1624"}],"margin":[0,0,0,0],"name":"Row00037"},"id":"1621","type":"Row"},{"attributes":{},"id":"1592","type":"BasicTicker"},{"attributes":{},"id":"1583","type":"LinearScale"},{"attributes":{},"id":"1585","type":"LinearScale"},{"attributes":{"indices":[]},"id":"1577","type":"Selection"},{"attributes":{},"id":"1609","type":"BasicTickFormatter"},{"attributes":{},"id":"1588","type":"BasicTicker"},{"attributes":{"fill_alpha":0.5,"fill_color":"lightgrey","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"xs_units":"screen","ys_units":"screen"},"id":"1596","type":"PolyAnnotation"},{"attributes":{"below":[{"id":"1587"}],"center":[{"id":"1590"},{"id":"1594"}],"left":[{"id":"1591"}],"plot_height":450,"plot_width":500,"renderers":[{"id":"1603"}],"title":{"id":"1606"},"toolbar":{"id":"1597"},"x_range":{"id":"1579"},"x_scale":{"id":"1583"},"y_range":{"id":"1581"},"y_scale":{"id":"1585"}},"id":"1578","subtype":"Figure","type":"Plot"},{"attributes":{"axis_label":"y","formatter":{"id":"1607"},"ticker":{"id":"1592"}},"id":"1591","type":"LinearAxis"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"field":"colors"},"line_alpha":{"value":0.1},"line_color":{"value":null},"radius":{"units":"data","value":0.11},"x":{"field":"x"},"y":{"field":"y"}},"id":"1602","type":"Circle"},{"attributes":{"data":{"colors":["gray","gray","gray","gray","gray","gray","gray","gray"],"index":[0,1,2,3,4,5,6,7],"x":[1,2,3,4,5,6,7,8],"y":[1,1,3,5,5,5,2,4]},"selected":{"id":"1577"},"selection_policy":{"id":"1612"}},"id":"1576","type":"ColumnDataSource"},{"attributes":{},"id":"1612","type":"UnionRenderers"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown00033","text":"&lt;p style=&#x27;color:#FF00FF&#x27;;&gt;Selected in another&lt;/p&gt;"},"id":"1623","type":"panel.models.markup.HTML"},{"attributes":{"client_comm_id":"7e05669e891b4fa3828fefea924dcb32","comm_id":"b2ba35d153c248c6993412e4bc217144","plot_id":"1614"},"id":"1670","type":"panel.models.comm_manager.CommManager"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"1595"}]},"id":"1597","type":"Toolbar"}],"root_ids":["1614","1670"]},"title":"Bokeh Application","version":"2.2.3"}};
    var render_items = [{"docid":"0e96c20b-001a-4040-acde-2444e6630bac","root_ids":["1614"],"roots":{"1614":"2b5be23f-4552-419b-8524-ddb18b1db3c6"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

